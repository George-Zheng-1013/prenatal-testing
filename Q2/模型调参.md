# 条件推理树

## 1、

alpha=0.3           # 显著性水平grid

max_depth=5          # 最大深度

min_leaf=int(0.1*len(df))  # 叶子最小样本数

n_thresholds=64      # 候选阈值个数（分位点数）

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>组别</th>
      <th>BMI范围</th>
      <th>综合风险分数(CRS)</th>
      <th>风险等级</th>
      <th>时间风险</th>
      <th>检测风险</th>
      <th>成本风险</th>
      <th>临床风险</th>
      <th>最优t0</th>
      <th>早期成功率</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>组0</td>
      <td>(-inf, 29.98]</td>
      <td>0.191</td>
      <td>低风险</td>
      <td>0.22</td>
      <td>0.16</td>
      <td>0.22</td>
      <td>0.17</td>
      <td>11.0周</td>
      <td>84.2%</td>
    </tr>
    <tr>
      <th>1</th>
      <td>组1</td>
      <td>(29.98, 30.48]</td>
      <td>0.398</td>
      <td>中等风险</td>
      <td>0.48</td>
      <td>0.28</td>
      <td>0.49</td>
      <td>0.42</td>
      <td>12.0周</td>
      <td>71.5%</td>
    </tr>
    <tr>
      <th>2</th>
      <td>组2</td>
      <td>(30.48, 31.56]</td>
      <td>0.059</td>
      <td>低风险</td>
      <td>0.00</td>
      <td>0.15</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>11.0周</td>
      <td>85.2%</td>
    </tr>
    <tr>
      <th>3</th>
      <td>组3</td>
      <td>(31.56, 33.36]</td>
      <td>0.500</td>
      <td>中等风险</td>
      <td>0.71</td>
      <td>0.21</td>
      <td>0.69</td>
      <td>0.64</td>
      <td>12.5周</td>
      <td>78.7%</td>
    </tr>
    <tr>
      <th>4</th>
      <td>组4</td>
      <td>(33.36, 34.50]</td>
      <td>0.243</td>
      <td>低风险</td>
      <td>0.23</td>
      <td>0.08</td>
      <td>0.21</td>
      <td>1.00</td>
      <td>11.5周</td>
      <td>92.3%</td>
    </tr>
    <tr>
      <th>5</th>
      <td>组5</td>
      <td>(34.50, +inf]</td>
      <td>0.717</td>
      <td>高风险</td>
      <td>1.00</td>
      <td>0.38</td>
      <td>1.00</td>
      <td>0.63</td>
      <td>11.5周</td>
      <td>61.7%</td>
    </tr>
  </tbody>
</table>
</div>

=== 模型整体性能评价 ===
平均风险分数: 0.351
风险分数标准差: 0.216
最高风险分数: 0.717
最低风险分数: 0.059
高风险组比例: 0.167
低风险组比例: 0.500
模型评级: 良好
模型得分: 86.500

⭐ 模型最终评分: 86.5/100 (良好)

## 2、

alpha=0.1           # 显著性水平

max_depth=5          # 最大深度

min_leaf=int(0.1*len(df))  # 叶子最小样本数

n_thresholds=64      # 候选阈值个数（分位点数）

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>组别</th>
      <th>BMI范围</th>
      <th>综合风险分数(CRS)</th>
      <th>风险等级</th>
      <th>时间风险</th>
      <th>检测风险</th>
      <th>成本风险</th>
      <th>临床风险</th>
      <th>最优t0</th>
      <th>早期成功率</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>组0</td>
      <td>(-inf, 34.50]</td>
      <td>0.070</td>
      <td>低风险</td>
      <td>0.00</td>
      <td>0.18</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>11.0周</td>
      <td>82.5%</td>
    </tr>
    <tr>
      <th>1</th>
      <td>组1</td>
      <td>(34.50, +inf]</td>
      <td>0.753</td>
      <td>高风险</td>
      <td>1.00</td>
      <td>0.38</td>
      <td>1.00</td>
      <td>1.00</td>
      <td>11.5周</td>
      <td>61.7%</td>
    </tr>
  </tbody>
</table>
</div>

=== 模型整体性能评价 ===
平均风险分数: 0.412
风险分数标准差: 0.342
最高风险分数: 0.753
最低风险分数: 0.070
高风险组比例: 0.500
低风险组比例: 0.500
模型评级: 一般
模型得分: 75.900

⭐ 模型最终评分: 75.9/100 (一般)

## 3、

alpha=0.05           # 显著性水平

max_depth=5          # 最大深度

min_leaf=max(20, int(0.04*len(df)))  # 叶子最小样本数

n_thresholds=64      # 候选阈值个数（分位点数）

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>组别</th>
      <th>BMI范围</th>
      <th>综合风险分数(CRS)</th>
      <th>风险等级</th>
      <th>时间风险</th>
      <th>检测风险</th>
      <th>成本风险</th>
      <th>临床风险</th>
      <th>最优t0</th>
      <th>早期成功率</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>组0</td>
      <td>(-inf, 34.50]</td>
      <td>0.101</td>
      <td>低风险</td>
      <td>0.00</td>
      <td>0.18</td>
      <td>0.00</td>
      <td>0.31</td>
      <td>11.0周</td>
      <td>82.5%</td>
    </tr>
    <tr>
      <th>1</th>
      <td>组1</td>
      <td>(34.50, 36.02]</td>
      <td>0.087</td>
      <td>低风险</td>
      <td>0.03</td>
      <td>0.18</td>
      <td>0.03</td>
      <td>0.00</td>
      <td>12.0周</td>
      <td>82.4%</td>
    </tr>
    <tr>
      <th>2</th>
      <td>组2</td>
      <td>(36.02, +inf]</td>
      <td>0.848</td>
      <td>高风险</td>
      <td>1.00</td>
      <td>0.62</td>
      <td>1.00</td>
      <td>1.00</td>
      <td>11.5周</td>
      <td>37.9%</td>
    </tr>
  </tbody>
</table>
</div>

=== 模型整体性能评价 ===
平均风险分数: 0.345
风险分数标准差: 0.356
最高风险分数: 0.848
最低风险分数: 0.087
高风险组比例: 0.333
低风险组比例: 0.667
模型评级: 一般
模型得分: 76.500

⭐ 模型最终评分: 76.5/100 (一般)
